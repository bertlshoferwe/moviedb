{"ast":null,"code":"import { ONSEARCHANGE, ERROR, LOADING, SEARCHED, SEARCHEDNULL, RESULTS, UPDATESEARCH } from './types';\nimport { push } from 'connected-react-router';\nexport var Search = function Search(Query, Page) {\n  return function (dispatch) {\n    switch (Query) {\n      case '':\n        dispatch({\n          type: SEARCHEDNULL\n        });\n        break;\n\n      default:\n        dispatch({\n          type: SEARCHED,\n          payload: Query\n        });\n        dispatch(query(dispatch, Query, Page));\n        break;\n    }\n  };\n}; // Extention of search function\n\nvar query = function query(dispatch, Query, Page) {\n  var queryString = 'https://api.themoviedb.org/3/search/multi?api_key=04ac5e20700da696a4b482b8e3d1c26e&language=en-US&query=' + Query + '&page=' + Page + '&include_adult=false';\n  return function (dispatch) {\n    fetch(queryString).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      return dispatch({\n        type: ONSEARCHANGE,\n        payload: response.results,\n        page: Page,\n        totalPages: response.total_pages\n      });\n    }).then(function (response) {\n      return setLoading(dispatch);\n    }).catch(function (error) {\n      dispatch({\n        type: ERROR\n      });\n    });\n  };\n};\n\nexport var UpdateSearch = function UpdateSearch(Query, Page) {\n  var queryString = 'https://api.themoviedb.org/3/search/multi?api_key=04ac5e20700da696a4b482b8e3d1c26e&language=en-US&query=' + Query + '&page=' + Page + '&include_adult=false';\n  return function (dispatch) {\n    fetch(queryString).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      return dispatch({\n        type: UPDATESEARCH,\n        payload: response.results,\n        page: response.page,\n        totalPages: response.total_pages\n      });\n    }).then(function (response) {\n      return setLoading(dispatch);\n    }).catch(function (error) {\n      dispatch({\n        type: ERROR\n      });\n    });\n  };\n};\n\nvar setLoading = function setLoading(dispatch) {\n  dispatch({\n    type: LOADING\n  });\n};\n\nexport var resultsOfSearch = function resultsOfSearch(Data) {\n  return function (dispatch) {\n    dispatch({\n      type: RESULTS,\n      payload: Data\n    });\n    dispatch(push('/searchResults'));\n  };\n};","map":{"version":3,"sources":["/home/weston/Documents/movedb/Client/src/Actions/queryActions.js"],"names":["ONSEARCHANGE","ERROR","LOADING","SEARCHED","SEARCHEDNULL","RESULTS","UPDATESEARCH","push","Search","Query","Page","dispatch","type","payload","query","queryString","fetch","then","response","json","results","page","totalPages","total_pages","setLoading","catch","error","UpdateSearch","resultsOfSearch","Data"],"mappings":"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","sourcesContent":["import {ONSEARCHANGE, ERROR, LOADING, SEARCHED, SEARCHEDNULL, RESULTS, UPDATESEARCH} from './types'\nimport {push}                                          from 'connected-react-router'\n\n export const Search = (Query, Page) => {  \n   return (dispatch) => { \n        switch(Query){\n            case '': dispatch ({\n                                type: SEARCHEDNULL,                    \n                        })\n                break;\n            default: dispatch ({\n                                type: SEARCHED,\n                                payload: Query                    \n                        })\n                    dispatch(\n                        query(dispatch, Query, Page)\n                        )\n                break;\n    }\n  };\n};\n// Extention of search function\nconst query = (dispatch, Query, Page) => {\n    const queryString = 'https://api.themoviedb.org/3/search/multi?api_key=04ac5e20700da696a4b482b8e3d1c26e&language=en-US&query=' + Query + '&page=' + Page + '&include_adult=false'\n    return (dispatch) => {\n        \n        fetch(queryString)\n        .then((response) => response.json())\n        .then(response => dispatch({\n                            type: ONSEARCHANGE,\n                            payload: response.results,\n                            page: Page,\n                            totalPages: response.total_pages\n                        }))\n        .then(response => setLoading( dispatch ))\n        .catch( (error) => { dispatch({ type:ERROR }) })\n    };     \n};\n\n\nexport const UpdateSearch = (Query, Page) => { \n    const queryString = 'https://api.themoviedb.org/3/search/multi?api_key=04ac5e20700da696a4b482b8e3d1c26e&language=en-US&query=' + Query + '&page=' + Page + '&include_adult=false' \n    return (dispatch) => {\n        \n        fetch(queryString)\n        .then((response) => response.json())\n        .then(response => dispatch({\n                                type: UPDATESEARCH,\n                                payload: response.results,\n                                page: response.page,\n                                totalPages: response.total_pages,\n                            }))\n        .then(response => setLoading( dispatch )) \n        .catch( (error) => { dispatch({ type:ERROR }) })\n\n    };\n};\n\nconst setLoading = (dispatch) => {\n    dispatch ({ type: LOADING})\n};\n\nexport const resultsOfSearch = (Data) => {\n    return (dispatch) => {\n                     dispatch({\n                            type: RESULTS,\n                            payload: Data\n                        })\n                        dispatch(push('/searchResults'))\n    };     \n};\n"]},"metadata":{},"sourceType":"module"}